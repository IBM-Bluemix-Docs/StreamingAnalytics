---

copyright:
  years: 2015, 2018
lastupdated: "2018-02-14"

---

<!-- Attribute definitions -->
{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:pre: .pre}


# 高可用性の強化
{: #consistentregions}

一部のアプリケーションでは、ビジネス要件のため、すべてのタプルを少なくとも一度処理することが必要です。{{site.data.keyword.streamsshort}} は、ストリーム処理中にタプルを失わない領域の定義を可能にするオペレーターとアノテーションによって拡張されています。整合領域内のタプルは、少なくとも一度処理されます。


ベータ・エントリーまたはベータ・エンハンストの価格プランを使用すると、{{site.data.keyword.streaminganalyticsshort}} に定義された整合領域で Streams アプリケーションを実行およびモニターできるようになりました。ベータ・エントリー・プランまたはベータ・エンハンスト・プランを使用して {{site.data.keyword.streaminganalyticsshort}} サービスを作成すると、そのインスタンスは整合領域を使用するように構成済みになっています。

整合領域とは、ストリーム中の定義されたポイント間にあるすべてのタプルおよび句読記号を処理することによって全オペレーターの状態が整合したものになるサブグラフです。これによって、そのサブグラフ内ではタプルが少なくとも一度は処理されることになります。整合領域では、現行タプルが定期的にドレーンされます。整合領域内のすべてのタプルは、サブグラフの終わりまで順に処理されます。領域内の各オペレーターについて、メモリー内のオペレーター状態は、チェックポイント処理が行われると自動的に直列化され、保管されます。

これで、タプル処理が保証された Java アプリケーションと SPL アプリケーションの両方を作成でき、これらのアプリケーションを {{site.data.keyword.streaminganalyticsshort}} にデプロイできるようになりました。

整合領域の始まりは、対応するオペレーターで `@consistent` アノテーションを使用して定義できます。整合領域の範囲は {{site.data.keyword.streamsshort}} が自動的に決定しますが、領域の終了オペレーターは `@autonomous` アノテーションを使用して変更できます。定義済みの整合領域は定期的に整合状態を確立します。

Streams アプリケーションでの整合領域の使用について詳しくは、![外部リンク・アイコン](../../icons/launch-glyph.svg "外部リンク・アイコン") [{{site.data.keyword.streamsshort}} の資料を参照してください。
